(function(a){a.fn.mslider=function(l){var g=a.extend({slideDelay:3000,showControls:true,freezeOnBlur:false,freezeOnClick:false,freezeOnHover:false},l);var j=true;var e=a(this);var b=a(this).wrapInner('<div class="mSlider-wrapper" />').children().first();var c=b.find(".mSlider-slide");if(g.showControls){var k=a('<div class="mSlider-control-prev" />').appendTo(e);var d=a('<div class="mSlider-control-next" />').appendTo(e);k.css("top",c.outerHeight()/2-k.outerHeight()/2);d.css("top",c.outerHeight()/2-d.outerHeight()/2)}var h=0;e.correctWidth=function(){h=0;c.each(function(m,n){a(n).outerWidth(a(n).outerWidth());h+=a(n).outerWidth()});b.height(c.outerHeight(true));b.width(h)};e.reset=function(){e.correctWidth();c.each(function(m,n){a(this).finish().css("left",m*a(n).outerWidth(true))})};e.nextSlide=function(){c.each(function(m,o){var p=a(o).outerWidth(true);var n=parseFloat(a(o).css("left"));if(n<=-p){a(o).css("left",h-p)}a(o).animate({left:"-="+p},"slow")})};e.prevSlide=function(){c.each(function(m,o){var p=a(o).outerWidth(true);var n=parseFloat(a(o).css("left"));if(n>=h){a(o).css("left",-p)}a(o).animate({left:"+="+p},"slow")})};e.reset();function f(){if(j==true){e.nextSlide()}}var i=setInterval(f,g.slideDelay);b.click(function(){if(g.freezeOnClick){j=!j}});b.mouseover(function(){if(g.freezeOnHover){j=false}});b.mouseout(function(){if(g.freezeOnHover){j=true}});k.click(function(){clearInterval(i);e.prevSlide();i=setInterval(f,g.slideDelay)});d.click(function(){clearInterval(i);e.nextSlide();i=setInterval(f,g.slideDelay)});a(window).blur(function(){if(g.freezeOnBlur){j=false}});a(window).focus(function(){if(g.freezeOnBlur){j=true}});a(window).resize(function(){b.css("width","");c.css("width","");e.reset()});return e}}(jQuery));