(function(a){a.fn.mslider=function(m){var g=a.extend({slideDelay:3000,showControls:true,freezeOnBlur:false,freezeOnClick:false,freezeOnHover:false},m);var k=true;var i=true;var e=a(this);var b=a(this).wrapInner('<div class="mSlider-wrapper" />').children().first();var d=b.find(".mSlider-slide");if(g.showControls){var l=a('<div class="mSlider-control-prev" />').appendTo(e);var c=a('<div class="mSlider-control-next" />').appendTo(e);l.css("top",d.outerHeight()/2-l.outerHeight()/2);c.css("top",d.outerHeight()/2-c.outerHeight()/2)}var h=0;e.correctWidth=function(){h=0;d.each(function(n,o){a(o).outerWidth(a(o).outerWidth());h+=a(o).outerWidth()});b.height(d.outerHeight(true));b.width(h)};e.reset=function(){e.correctWidth();d.each(function(n,o){a(this).finish().css("left",n*a(o).outerWidth(true))})};e.nextSlide=function(){if(i==false){return false}i=false;d.each(function(n,p){var q=a(p).outerWidth(true);var o=parseFloat(a(p).css("left"));if(o<=-q){a(p).css("left",h-q)}a(p).animate({left:"-="+q},"slow",function(){i=true})})};e.prevSlide=function(){if(i==false){return false}i=false;d.each(function(n,p){var q=a(p).outerWidth(true);var o=parseFloat(a(p).css("left"));if(o>=h){a(p).css("left",-q)}a(p).animate({left:"+="+q},"slow",function(){i=true})})};e.reset();function f(){if(k==true){e.nextSlide()}}var j=setInterval(f,g.slideDelay);b.click(function(){if(g.freezeOnClick){k=!k}});b.mouseover(function(){if(g.freezeOnHover){k=false}});b.mouseout(function(){if(g.freezeOnHover){k=true}});l.click(function(){clearInterval(j);e.prevSlide();j=setInterval(f,g.slideDelay)});c.click(function(){clearInterval(j);e.nextSlide();j=setInterval(f,g.slideDelay)});a(window).blur(function(){if(g.freezeOnBlur){k=false}});a(window).focus(function(){if(g.freezeOnBlur){k=true}});a(window).resize(function(){b.css("width","");d.css("width","");e.reset()});return e}}(jQuery));